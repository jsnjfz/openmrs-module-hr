<?xml version="1.0" encoding="UTF-8"?>
 
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
 
    <!--
    	See http://wiki.openmrs.org/display/docs/Module+liquibase+File for 
    	documentation on this file.
    
        See http://www.liquibase.org/manual/home#available_database_refactorings
        for a list of supported elements and attributes
    -->
 <changeSet id="humanresource_certificate" author="saimanohar">
    <preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_certificate" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the certificate table
		</comment>
		<createTable tableName="hr_certificate" schemaName="openmrs">
			<column name="certificate_id" type="int(11)"><constraints nullable="false" /></column>
			<column name="national_id" type="int(11)" defaultValue="NULL"/>
			<column name="agency" type="TEXT"><constraints nullable="false" /></column>
			<column name="certificate" type="TEXT"><constraints nullable="false"/></column>
			<column name="levels" type="TEXT" ><constraints nullable="false"/></column>
			<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
			<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
			<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
			<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
			<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
			<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
			<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
			<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
			<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_certificate" schemaName="openmrs" columnNames="certificate_id"/>
		<addAutoIncrement tableName="hr_certificate" schemaName="openmrs" columnName="certificate_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_certificate" schemaName="openmrs" indexName="certificate_uuid_index" unique="true"><column name="uuid"></column></createIndex>
		<createIndex tableName="hr_certificate" schemaName="openmrs" indexName="certificate_retired_status" ><column name="retired"></column></createIndex>
		<createIndex tableName="hr_certificate" schemaName="openmrs" indexName="national_id_UNIQUE" unique="true"><column name="national_id"></column></createIndex>
		</changeSet>
		
	<changeSet id="humanresource_competency" author="saimanohar">
   	 	<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_competency" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the competency table
		</comment>
		<createTable tableName="hr_competency" schemaName="openmrs" >
		<column name="competency_id" type="int(11)"><constraints nullable="false"/> </column>
		<column name="national_id" type="int(11)" defaultValue="NULL"></column>
		<column name="category" type="varchar(255)" defaultValue="NULL"></column>
		<column name="name" type="varchar(255)"><constraints nullable="false"/></column>
		<column name="levels" type="varchar(255)"><constraints nullable="false"/></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="edit_privilege" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		<column name="sort_weight" type="double" defaultValue="NULL"></column>
		</createTable>
		<addPrimaryKey tableName="hr_competency" schemaName="openmrs"  columnNames="competency_id"/>
		<addAutoIncrement tableName="hr_competency" schemaName="openmrs" columnName="competency_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_competency" schemaName="openmrs" indexName="competency_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_competency" schemaName="openmrs" indexName="business_key" unique="true"><column name="name"></column><column name="category"></column> </createIndex>
		<createIndex tableName="hr_competency" schemaName="openmrs" indexName="competency_retired_status"><column name="retired"></column> </createIndex>
 		</changeSet>
 		
 	<!-- <changeSet id="humanresource_person"  author="saimanohar">
 	  <preConditions onFail="MARK_RAN">
			<not><tableExists tableName="person" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the person table
		</comment>
		<createTable tableName="person" schemaName="openmrs">
		<column name="person_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="gender" type="VARCHAR(50)" defaultValue=""></column>
		<column name="birthdate" type="DATE" defaultValue="NULL"></column>
		<column name="birthdate_estimated" type="SMALLINT(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="dead" type="SMALLINT(6)"><constraints nullable="false"/></column>
		<column name="death_date" type="DATETIME" defaultValue="NULL"></column>
		<column name="cause_of_death" type="INT(11)" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="person" schemaName="openmrs" columnNames="person_id"/>
		<addAutoIncrement tableName="person" schemaName="openmrs" columnName="person_id" columnDataType="int(11)"/>
		<createIndex tableName="person" schemaName="openmrs" indexName="person_uuid_index" unique="true"><column name="uuid"></column></createIndex>
		<createIndex tableName="person" schemaName="openmrs" indexName="person_birthdate"><column name="birthdate"></column></createIndex>
		<createIndex tableName="person" schemaName="openmrs" indexName="person_death_date"><column name="death_date"></column></createIndex>
 		</changeSet> -->
 		
 	<changeSet id="humanresource_provider"  author="saimanohar">
 	  <preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_provider" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the provider table
		</comment>
		<createTable tableName="hr_provider" schemaName="openmrs">
		<column name="provider_id" type="int(11)"><constraints nullable="false"/> </column>
		</createTable>
		<addPrimaryKey tableName="hr_provider" schemaName="openmrs" columnNames="provider_id" />
		<addAutoIncrement tableName="hr_provider" schemaName="openmrs" columnName="provider_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_provider" schemaName="openmrs" indexName="provider_id_UNIQUE" unique="true"><column name="provider_id"></column> </createIndex>
		</changeSet>
		
	<changeSet author="saimanohar" id="humanresource_staff">
	 <preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff table
		</comment>
		<createTable tableName="hr_staff" schemaName="openmrs">
		<column name="staff_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="staff_status" type="int(11)" defaultValue="NULL"></column>
		<column name="initial_hire_date" type="DATETIME"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="NULL"></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_staff" schemaName="openmrs" columnNames="staff_id"/>
		<createIndex tableName="hr_staff" schemaName="openmrs"  indexName="staff_id_UNIQUE" unique="true"><column name="staff_id"></column> </createIndex>
		<createIndex tableName="hr_staff" schemaName="openmrs" indexName="staff_person"><column name="staff_id"></column> </createIndex>
		<createIndex tableName="hr_staff" schemaName="openmrs" indexName="staff_status_concept"><column name="staff_status"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs"  constraintName="staff_person" referencedTableName="person" baseColumnNames="staff_id" baseTableName="hr_staff" referencedColumnNames="person_id" onUpdate="NO ACTION" onDelete="NO ACTION"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_status_concept" referencedTableName="concept" baseColumnNames="staff_status" baseTableName="hr_staff" referencedColumnNames="concept_id" onUpdate="NO ACTION" onDelete="NO ACTION"/>
	</changeSet>	
	
	<changeSet author="saimanohar" id="humanresource_education">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_education" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the education table
		</comment>
		<createTable tableName="hr_education" schemaName="openmrs">
		<column name="education_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="staff_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="degree" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="institution" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="institution_location" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="major" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="degree_year" type="int(4)" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_education" schemaName="openmrs" columnNames="education_id"/>
		<addAutoIncrement tableName="hr_education" schemaName="openmrs" columnName="education_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_education" schemaName="openmrs" indexName="education_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_education" schemaName="openmrs" indexName="education_retired_status"><column name="voided"></column> </createIndex>
		<createIndex tableName="hr_education" schemaName="openmrs" indexName="education_staff"><column name="staff_id"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="education_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_education" referencedColumnNames="staff_id" onUpdate="NO ACTION" onDelete="NO ACTION"/>
		</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_evaluation">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_evaluation" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the evaluation table
		</comment>
		<createTable tableName="hr_evaluation" schemaName="openmrs">
		<column name="evaluation_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="competency_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="staff_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="evaluator_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="level" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="evaluation_date" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_evaluation" schemaName="openmrs" columnNames="evaluation_id"/>
		<createIndex tableName="hr_evaluation" schemaName="openmrs" indexName="evaluation_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_evaluation" schemaName="openmrs" indexName="evaluation_retired_status"><column name="voided"></column></createIndex>
		<createIndex tableName="hr_evaluation" schemaName="openmrs" indexName="eval_competency"><column name="competency_id"></column></createIndex>
		<createIndex tableName="hr_evaluation" schemaName="openmrs" indexName="eval_evaluator"><column name="evaluator_id"></column></createIndex>
		<createIndex tableName="hr_evaluation" schemaName="openmrs" indexName="eval_staff"><column name="staff_id"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="eval_competency" referencedTableName="hr_competency" baseColumnNames="competency_id" baseTableName="hr_evaluation" referencedColumnNames="competency_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="eval_evaluator" referencedTableName="person" baseColumnNames="evaluator_id" baseTableName="hr_evaluation" referencedColumnNames="person_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="eval_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_evaluation" referencedColumnNames="staff_id"/>
		</changeSet>
		
	<changeSet author="saimanohar" id="humanresource_isco_codes">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_isco_codes" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the isco_codes table
		</comment>
		<createTable tableName="hr_isco_codes" schemaName="openmrs">
		<column name="codeISCO" type="char(4)"><constraints nullable="false"/></column>
		<column name="title" type="varchar(255)" defaultValue=""><constraints nullable="false"/></column>
		<column name="definition" type="TEXT"></column>
		<column name="tasks_include" type="TEXT"></column>
		<column name="included_occupations" type="TEXT"></column>
		<column name="excluded_occupations" type="TEXT"></column>
		<column name="notes" type="TEXT"></column>
		</createTable>
		<addPrimaryKey tableName="hr_isco_codes" schemaName="openmrs" columnNames="codeISCO"/>
		</changeSet>
		
	<changeSet author="saimanohar" id="humanresource_job_title">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_job_title" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the job_title table
		</comment>
		<createTable tableName="hr_job_title" schemaName="openmrs">
		<column name="job_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="national_id" type="int(11)" defaultValue="NULL"></column>
		<column name="codeISCO" type="char(4)" defaultValue="NULL"></column>
		<column name="title" type="varchar(255)" defaultValue=""><constraints nullable="false"/></column>
		<column name="cadre" type="int(11)"><constraints nullable="false"/></column>
		<column name="grades" type="varchar(255)"><constraints nullable="false"/></column>
		<column name="description" type="TEXT" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_job_title" schemaName="openmrs" columnNames="job_id"/>
		<addAutoIncrement tableName="hr_job_title" schemaName="openmrs" columnName="job_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_job_title" schemaName="openmrs" indexName="job_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_job_title" schemaName="openmrs" indexName="national_id"><column name="national_id"></column></createIndex>
		<createIndex tableName="hr_job_title" schemaName="openmrs" indexName="job_retired_status"><column name="retired"></column></createIndex>
		<createIndex tableName="hr_job_title" schemaName="openmrs" indexName="job_isco"><column name="codeISCO"></column></createIndex>
		<createIndex tableName="hr_job_title" schemaName="openmrs" indexName="cadre_concept"><column name="cadre"></column> </createIndex>
		<createIndex tableName="hr_job_title" schemaName="openmrs" indexName="max_grade_concept"><column name="grades"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="job_isco" referencedTableName="hr_isco_codes" baseColumnNames="codeISCO" baseTableName="hr_job_title" referencedColumnNames="codeISCO" onDelete="NO ACTION" onUpdate="NO ACTION"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="cadre_concept" referencedTableName="concept" baseColumnNames="cadre" baseTableName="hr_job_title" referencedColumnNames="concept_id" onDelete="NO ACTION" onUpdate="NO ACTION"/>
		</changeSet>
		
	<!-- <changeSet author="saimanohar" id="humanresource_location">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="location" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the location table
		</comment>
		<createTable tableName="location" schemaName="openmrs">
		<column name="location_id" type="INT(11)"><constraints nullable="false"/></column>
		<column name="name" type="VARCHAR(255)" defaultValue=""><constraints nullable="false"/></column>
		<column name="description" type="VARCHAR(255)" defaultValue="NULL"></column>
		<column name="address1" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="address2" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="city_village" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="state_province" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="postal_code" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="country" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="latitude" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="longitude" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="country_district" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="neigborhood_cell" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="region" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="subregion" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="township_division" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="parent_location" type="INT(11)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="location" schemaName="openmrs" columnNames="location_id"/>
		<addAutoIncrement tableName="location" schemaName="openmrs" columnName="location_id" columnDataType="int(11)"/>
		<createIndex tableName="location" schemaName="openmrs" indexName="location_uuid_index"><column name="uuid"></column> </createIndex>
		<createIndex tableName="location" schemaName="openmrs" indexName="name_of_location"><column name="name"></column></createIndex>
		<createIndex tableName="location" schemaName="openmrs" indexName="retired_status"><column name="retired"></column></createIndex>
		<createIndex tableName="location" schemaName="openmrs" indexName="parent_location"><column name="parent_location"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="parent_location" referencedTableName="location" baseColumnNames="location_id" baseTableName="location" referencedColumnNames="parent_location"/>
		</changeSet> -->
		
	<changeSet author="saimanohar" id="humanresource_staff_note">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff_note" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff_note table
		</comment>
		<createTable tableName="hr_staff_note" schemaName="openmrs">
		<column name="staff_note_id" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="staff_note_type" type="varchar(50)" defaultValue="NULL"></column>
		<column name="staff_id" type="int(11)" defaultValue="NULL"></column>
		<column name="text" type="TEXT"><constraints nullable="false"/></column>
		<column name="priority" type="int(11)" defaultValue="NULL"></column>
		<column name="parent" type="int(11)" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_staff_note" schemaName="openmrs" columnNames="staff_note_id"/>
		<createIndex tableName="hr_staff_note" schemaName="openmrs" indexName="note_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_staff_note" schemaName="openmrs" indexName="staff_note_hierarchy"><column name="parent"></column> </createIndex>
		<createIndex tableName="hr_staff_note" schemaName="openmrs" indexName="staff_note_staff"><column name="staff_id"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_note_hierarchy" referencedTableName="hr_staff_note" baseColumnNames="parent" baseTableName="hr_staff_note" referencedColumnNames="staff_note_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_note_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_staff_note" referencedColumnNames="staff_id" onDelete="NO ACTION" onUpdate="NO ACTION"/>
		</changeSet>
	<!-- 
	<changeSet author="saimanohar" id="humanresource_person_address">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="person_address" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the person_address table
		</comment>
		<createTable tableName="person_address" schemaName="openmrs">
		<column name="person_address_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="person_id" type="int(11)" defaultValue="NULL"></column>
		<column name="preferred" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="address1" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="address2" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="city_village" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="state_province" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="postal_code" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="country" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="latitude" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="longitude" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="country_district" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="neigborhood_cell" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="region" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="subregion" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="township_division" type="VARCHAR(50)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="person_address" schemaName="openmrs" columnNames="person_address_id"/>
		<addAutoIncrement tableName="person_address" schemaName="openmrs"  columnName="person_address_id" columnDataType="int(11)"/>
		<createIndex tableName="person_address" schemaName="openmrs" indexName="person_address_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="person_address" schemaName="openmrs" indexName="address_for_person"><column name="person_id"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="address_for_person" referencedTableName="person" baseColumnNames="person_id" baseTableName="person_address" referencedColumnNames="person_id" onUpdate="CASCADE"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_person_name">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="person_name" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the person_name table
		</comment>
		<createTable tableName="person_name" schemaName="openmrs">
		<column name="person_name_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="preferred" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="person_id" type="int(11)" defaultValue="NULL"></column>
		<column name="prefix" type="varchar(50)"></column>
		<column name="given_name" type="varchar(50)"></column>
		<column name="middle_name" type="varchar(50)"></column>
		<column name="family_name_prefix" type="varchar(50)"></column>
		<column name="family_name" type="varchar(50)"></column>
		<column name="family_name2" type="varchar(50)"></column>
		<column name="family_name_suffix" type="varchar(50)"></column>
		<column name="degree" type="varchar(50)"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="person_name" schemaName="openmrs"  columnNames="person_name_id"/>
		<addAutoIncrement tableName="person_name"  schemaName="openmrs"  columnName="person_name_id"/>
		<createIndex tableName="person_name" schemaName="openmrs" indexName="person_name_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="person_name" schemaName="openmrs" indexName="first_name"><column name="given_name"></column></createIndex>
		<createIndex tableName="person_name" schemaName="openmrs" indexName="last_name"><column name="family_name"></column></createIndex>
		<createIndex tableName="person_name" schemaName="openmrs" indexName="middle_name"><column name="middle_name"></column></createIndex>
		<createIndex tableName="person_name" schemaName="openmrs" indexName="name_for_person"><column name="person_id"></column></createIndex>
		<createIndex tableName="person_name" schemaName="openmrs" indexName="family_name_2"><column name="family_name_2"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="name_for_person" referencedTableName="person" baseColumnNames="person_id" baseTableName="person_name" referencedColumnNames="person_id" onUpdate="CASCADE"/>
	</changeSet> -->
	
	<changeSet author="saimanohar" id="humanresource_post">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_post" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the post table
		</comment>
		<createTable tableName="hr_post" schemaName="openmrs">
		<column name="post_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="national_id" type="int(11)" defaultValue="NULL"></column>
		<column name="job_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="location_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="time_basis" type="varchar(50)" defaultValue="NULL"></column>
		<column name="status" type="int(11)" defaultValue="NULL"></column>
		<column name="funding_source" type="varchar(50)" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_post" schemaName="openmrs" columnNames="post_id"/>
		<addAutoIncrement tableName="hr_post" schemaName="openmrs" columnName="post_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="post_uuid_index"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="national_id"><column name="national_id"></column> </createIndex>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="job_id"><column name="job_id"></column> </createIndex>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="location_id"><column name="location_id"></column> </createIndex>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="post_retired_status"><column name="retired"></column> </createIndex>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="national_id_UNIQUE" unique="true"><column name="national_id"></column> </createIndex>
		<createIndex tableName="hr_post" schemaName="openmrs" indexName="post_status_concept"><column name="status"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="post_job" referencedTableName="hr_job_title" baseColumnNames="job_id" baseTableName="hr_post" referencedColumnNames="job_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="post_location" referencedTableName="location" baseColumnNames="location_id" baseTableName="hr_post" referencedColumnNames="location_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="post_status_concept" referencedTableName="concept" baseColumnNames="status" baseTableName="hr_post" referencedColumnNames="concept_id"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_staff_cert">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff_cert" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff_cert table
		</comment>
		<createTable tableName="hr_staff_cert" schemaName="openmrs">
		<column name="staff_cert_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="certificate_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="staff_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="level" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="initial_cert_date" type="DATETIME" defaultValue="NULL"></column>
		<column name="current_cert_date" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="cert_expiration_date" type="DATETIME" defaultValue="NULL"></column>
		<column name="cert_cancel" type="varchar(50)" defaultValue="NULL"></column>
		<column name="cancel_date" type="DATETIME" defaultValue="NULL"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_staff_cert" schemaName="openmrs" columnNames="staff_cert_id"/>
		<addAutoIncrement tableName="hr_staff_cert" schemaName="openmrs" columnName="staff_cert_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_staff_cert" schemaName="openmrs" indexName="provider_cert_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_staff_cert" schemaName="openmrs" indexName="provider_cert_retired_status"><column name="voided"></column></createIndex>
		<createIndex tableName="hr_staff_cert" schemaName="openmrs" indexName="staff_cert_certificate"><column name="certificate_id"></column></createIndex>
		<createIndex tableName="hr_staff_cert" schemaName="openmrs" indexName="staff_cert_staff"><column name="staff_id"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="person_cert_certificate" referencedTableName="hr_certificate" baseColumnNames="certificate_id" baseTableName="hr_staff_cert" referencedColumnNames="certificate_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_cert_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_staff_cert" referencedColumnNames="staff_id" onDelete="NO ACTION" onUpdate="NO ACTION"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_staff_tag">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff_tag" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff_tag table
		</comment>
		<createTable tableName="hr_staff_tag" schemaName="openmrs">
		<column name="staff_tag_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="name" type="varchar(50)"></column>
		<column name="description" type="varchar(255)"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_staff_tag" schemaName="openmrs" columnNames="staff_tag_id"/>
		<addAutoIncrement tableName="hr_staff_tag" schemaName="openmrs" columnName="staff_tag_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_staff_tag" schemaName="openmrs" indexName="provider_tag_uuid_index"><column name="uuid"></column> </createIndex>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_staff_tag_map">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff_tag_map" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff_tag_map table
		</comment>
		<createTable tableName="hr_staff_tag_map" schemaName="openmrs">
		<column name="staff_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="staff_tag_id" type="int(11)"><constraints nullable="false"/></column>
		</createTable>
		<createIndex tableName="hr_staff_tag_map" schemaName="openmrs" indexName="staff_tag_map_tag"><column name="staff_tag_id"></column> </createIndex>
		<createIndex tableName="hr_staff_tag_map" schemaName="openmrs" indexName="person_tag_map_staff"><column name="staff_id"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_tag_map_tag" referencedTableName="hr_staff_tag" baseColumnNames="staff_tag_id" baseTableName="hr_staff_tag_map" referencedColumnNames="staff_tag_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="person_tag_map_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_staff_tag_map" referencedColumnNames="staff_id" onUpdate="NO ACTION" onDelete="NO ACTION"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_post_history">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_post_history" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the post_history table
		</comment>
		<createTable tableName="hr_post_history" schemaName="openmrs">
		<column name="post_history_ID" type="int(11)"><constraints nullable="false"/></column>
		<column name="staff_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="post_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="start_date" type="DATETIME"><constraints nullable="false"/></column>
		<column name="grade" type="varchar(20)" defaultValue="NULL"></column>
		<column name="end_date" type="DATETIME" defaultValue="NULL"></column>
		<column name="end_reason" type="int(11)"></column>
		<column name="end_reason_other" type="varchar(252)"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_post_history" schemaName="openmrs" columnNames="post_history_ID"/>
		<addAutoIncrement tableName="hr_post_history" schemaName="openmrs" columnName="post_history_ID" columnDataType="int(11)"/>
		<createIndex tableName="hr_post_history" schemaName="openmrs" indexName="uuid_UNIQUE"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_post_history" schemaName="openmrs" indexName="post_history_post"><column name="post_id"></column></createIndex>
		<createIndex tableName="hr_post_history" schemaName="openmrs" indexName="provider_natural"><column name="staff_id"></column><column name="start_date"></column><column name="end_date"></column><column name="voided"></column></createIndex>
		<createIndex tableName="hr_post_history" schemaName="openmrs" indexName="post_history_end_reason_concept"><column name="end_reason"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="post_history_post" referencedTableName="hr_post" baseColumnNames="post_id" baseTableName="hr_post_history" referencedColumnNames="post_id" onUpdate="NO ACTION" onDelete="NO ACTION"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="post_history_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_post_history" referencedColumnNames="staff_id" onDelete="NO ACTION" onUpdate="NO ACTION"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="post_history_end_reason_concept" referencedTableName="concept" baseColumnNames="end_reason" baseTableName="hr_post_history" referencedColumnNames="concept_id" onDelete="NO ACTION" onUpdate="NO ACTION"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_assignment">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_assignment" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the assignment table
		</comment>
		<createTable tableName="hr_assignment" schemaName="openmrs">
		<column name="assignment_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="post_history_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="location_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="assignment" type="varchar(255)"></column>
		<column name="supervisor_id" type="int(11)"></column>
		<column name="time_basis" type="varchar(45)"></column>
		<column name="work_schedule" type="int(11)"></column>
		<column name="start_date" type="DATETIME"></column>
		<column name="end_date" type="DATETIME"></column>
		<column name="end_reason" type="varchar(10)"></column>
		<column name="end_reason_other" type="varchar(252)"></column>
		<column name="note" type="varchar(255)"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_assignment" schemaName="openmrs" columnNames="assignment_id"/>
		<addAutoIncrement tableName="hr_assignment" schemaName="openmrs" columnName="assignment_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="subpost_uuid_index"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="post_id"><column name="post_history_id"></column> </createIndex>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="location_id"><column name="location_id"></column> </createIndex>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="end_start"><column name="end_date"></column> <column name="start_date"></column> </createIndex>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="subpost_retired_status"><column name="voided"></column> </createIndex>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="assignment_supervisor"><column name="supervisor_id"></column> </createIndex>
		<createIndex tableName="hr_assignment" schemaName="openmrs" indexName="work_schedule_concept"><column name="work_schedule"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs"  constraintName="assignment_location" referencedTableName="location" baseColumnNames="location_id" baseTableName="hr_assignment" referencedColumnNames="location_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs"  constraintName="assignment_post_history" referencedTableName="hr_post_history" baseColumnNames="post_history_id" baseTableName="hr_assignment" referencedColumnNames="post_history_ID"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs"  constraintName="assignment_supervisor" referencedTableName="hr_staff" baseColumnNames="supervisor_id" baseTableName="hr_assignment" referencedColumnNames="staff_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs"  constraintName="work_schedule_concept" referencedTableName="concept" baseColumnNames="work_schedule" baseTableName="hr_assignment" referencedColumnNames="concept_id"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_training">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_training" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the training table
		</comment>
		<createTable tableName="hr_training" schemaName="openmrs">
		<column name="training_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="national_id" type="int(11)" defaultValue="NULL"></column>
		<column name="category" type="varchar(255)" defaultValue=""><constraints nullable="false"/></column>
		<column name="name" type="TEXT"><constraints nullable="false"/></column>
		<column name="description" type="TEXT"><constraints nullable="false"/></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		<column name="sort_weight" type="DOUBLE" defaultValue="NULL"></column>
		</createTable>
		<addPrimaryKey tableName="hr_training" schemaName="openmrs" columnNames="training_id"/>
		<addAutoIncrement tableName="hr_training" schemaName="openmrs" columnName="training_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_training"  schemaName="openmrs" indexName="training_uuid_index"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_training"  schemaName="openmrs" indexName="training_retired_status"><column name="retired"></column></createIndex>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_training_class">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_training_class" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the training_class table
		</comment>
		<createTable tableName="hr_training_class" schemaName="openmrs">
		<column name="train_class_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="training_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="start_date" type="DATETIME"><constraints nullable="false"/></column>
		<column name="duration" type="FLOAT" defaultValue="0"><constraints nullable="false"/></column>
		<column name="ceunits" type="FLOAT" defaultValue="0"><constraints nullable="false"/></column>
		<column name="location" type="varchar(255)" defaultValue=""><constraints nullable="false"/></column>
		<column name="instructor" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="organization" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="funding_source" type="varchar(50)" defaultValue=""><constraints nullable="false"/></column>
		<column name="cost_course" type="FLOAT" defaultValue="0"><constraints nullable="false"/></column>
		<column name="cost_register" type="FLOAT" defaultValue="0"><constraints nullable="false"/></column>
		<column name="cost_travel" type="FLOAT" defaultValue="0"><constraints nullable="false"/></column>
		<column name="cost_perdiem" type="FLOAT" defaultValue="0"><constraints nullable="false"/></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		<column name="sort_weight" type="DOUBLE" defaultValue="NULL"></column>
		</createTable>
		<addPrimaryKey tableName="hr_training_class" schemaName="openmrs" columnNames="train_class_id"/>
		<addAutoIncrement tableName="hr_training_class" schemaName="openmrs" columnName="train_class_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_training_class" schemaName="openmrs" indexName="train_class_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_training_class" schemaName="openmrs" indexName="train_class_retired_status"><column name="voided"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="train_class_training" referencedTableName="hr_training" baseColumnNames="training_id" baseTableName="hr_training_class" referencedColumnNames="training_id"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_train_person">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_train_person" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the train_person table
		</comment>
		<createTable tableName="hr_train_person" schemaName="openmrs">
		<column name="train_person_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="train_class_id" type="int(11))"><constraints nullable="false"/></column>
		<column name="person_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="completed" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="reason" type="varchar(255)" defaultValue=""><constraints nullable="false"/></column>
		<column name="follow_UP_date" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_train_person" schemaName="openmrs" columnNames="train_person_id"/>
		<addAutoIncrement tableName="hr_train_person" schemaName="openmrs" columnName="train_person_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_train_person" schemaName="openmrs" indexName="train_person_uuid_index"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_train_person" schemaName="openmrs" indexName="provider_cert_retired_status"><column name="voided"></column></createIndex>
		<createIndex tableName="hr_train_person" schemaName="openmrs" indexName="train_person_person"><column name="person_id"></column></createIndex>
		<createIndex tableName="hr_train_person" schemaName="openmrs" indexName="train_person_train_class"><column name="train_class_id"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="train_person_person" referencedTableName="person" baseColumnNames="person_id" baseTableName="hr_train_person" referencedColumnNames="person_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="train_person_train_class" referencedTableName="hr_training_class" baseColumnNames="train_class_id" baseTableName="hr_train_person" referencedColumnNames="train_class_id"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_training_competency">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_training_competency" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the training_competency table
		</comment>
		<createTable tableName="hr_training_competency" schemaName="openmrs">
		<column name="training_id" type="int(11)"><constraints nullable="false"/> </column>
		<column name="competency_id" type="int(11)"><constraints nullable="false"/> </column>
		</createTable>
		<addPrimaryKey tableName="hr_training_competency" schemaName="openmrs" columnNames="training_id,competency_id"/>
		<createIndex tableName="hr_training_competency" schemaName="openmrs" indexName="competency"><column name="competency_id"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="competency_tag" referencedTableName="hr_competency" baseColumnNames="competency_id" baseTableName="hr_training_competency" referencedColumnNames="competency_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="training_tag" referencedTableName="hr_training" baseColumnNames="training_id" baseTableName="hr_training_competency" referencedColumnNames="training_id"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_staff_attribute_type">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff_attribute_type" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff_attribute_type table
		</comment>
		<createTable tableName="hr_staff_attribute_type" schemaName="openmrs">
		<column name="staff_attribute_type_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="name" type="varchar(50)"><constraints nullable="false"/></column>
		<column name="description" type="TEXT"><constraints nullable="false"/></column>
		<column name="handler_type" type="varchar(50)"><constraints nullable="false"/></column>
		<column name="handler_configuration" type="varchar(50)"></column>
		<column name="min_occurs" type="int(11)"><constraints nullable="false"/></column>
		<column name="max_occurs" type="int(11)"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="edit_privilege" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		<column name="sort_weight" type="DOUBLE" defaultValue="NULL"></column>
		</createTable>
		<addPrimaryKey tableName="hr_staff_attribute_type" schemaName="openmrs" columnNames="staff_attribute_type_id"/>
		<addAutoIncrement tableName="hr_staff_attribute_type" schemaName="openmrs" columnName="staff_attribute_type_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_staff_attribute_type" schemaName="openmrs" indexName="staff_attribute_type_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_staff_attribute_type" schemaName="openmrs" indexName="attribute_is_searchable"><column name="min_occurs"></column></createIndex>
		<createIndex tableName="hr_staff_attribute_type" schemaName="openmrs" indexName="name_of_attribute"><column name="name"></column></createIndex>
		<createIndex tableName="hr_staff_attribute_type" schemaName="openmrs" indexName="staff_attribute_type_retired_status"><column name="retired"></column></createIndex>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_staff_attribute">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_staff_attribute" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the staff_attribute table
		</comment>
		<createTable tableName="hr_staff_attribute" schemaName="openmrs">
		<column name="staff_attribute_id" type="int(11)"></column>
		<column name="staff_id" type="int(11)" defaultValue="0"></column>
		<column name="value" type="varchar(50)" defaultValue=""></column>
		<column name="staff_attribute_type_id" type="int(11)" defaultValue="0"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="voided" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="voided_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_voided" type="DATETIME" defaultValue="NULL"></column>
		<column name="void_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_staff_attribute" schemaName="openmrs" columnNames="staff_attribute_id"/>
		<addAutoIncrement tableName="hr_staff_attribute" schemaName="openmrs" columnName="staff_attribute_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_staff_attribute" schemaName="openmrs" indexName="staff_attribute_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_staff_attribute" schemaName="openmrs" indexName="staff_attribute_type"><column name="staff_attribute_id"></column> </createIndex>
		<createIndex tableName="hr_staff_attribute" schemaName="openmrs" indexName="staff_attribute_staff"><column name="staff_id"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_attribute_type_ref" referencedTableName="hr_staff_attribute_type" baseColumnNames="staff_attribute_type_id" baseTableName="hr_staff_attribute" referencedColumnNames="staff_attribute_type_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="staff_attribute_staff" referencedTableName="hr_staff" baseColumnNames="staff_id" baseTableName="hr_staff_attribute" referencedColumnNames="staff_id" onDelete="NO ACTION" onUpdate="NO ACTION"/>
	</changeSet>
	
	<!-- <changeSet author="saimanohar" id="humanresource_location_tag">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="location_tag" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the location_tag table
		</comment>
		<createTable tableName="location_tag" schemaName="openmrs">
		<column name="location_tag_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="name" type="varchar(50)"></column>
		<column name="description" type="TEXT"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="location_tag" schemaName="openmrs" columnNames="location_tag_id"/>
		<addAutoIncrement tableName="location_tag" schemaName="openmrs" columnName="location_tag_id" columnDataType="int(11)"/>
		<createIndex tableName="location_tag" schemaName="openmrs" indexName="location_tag_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="location_tag" schemaName="openmrs" indexName="location_tag_creator"><column name="creator"></column></createIndex>
		<createIndex tableName="location_tag" schemaName="openmrs" indexName="location_tag_retired_by"><column name="retired_by"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="location_tag_creator" referencedTableName="users" baseColumnNames="creator" baseTableName="location_tag" referencedColumnNames="user_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="location_tag_retired_by" referencedTableName="users" baseColumnNames="retired_by" baseTableName="location_tag" referencedColumnNames="user_id"/>
	</changeSet>
	
	<changeSet author="saimanohar" id="humanresource_location_tag_map">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="location_tag_map" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the location_tag_map table
		</comment>
		<createTable tableName="location_tag_map" schemaName="openmrs">
		<column name="location_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="location_tag_id" type="int(11)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="location_tag_map" schemaName="openmrs" columnNames="location_id,location_tag_id"/>
		<createIndex tableName="location_tag_map" schemaName="openmrs" indexName="location_tag_map_tag"><column name="location_tag_id"></column> </createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="location_tag_map_location" referencedTableName="location" baseColumnNames="location_id" baseTableName="location_tag_map" referencedColumnNames="location_id"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="location_tag_map_tag" referencedTableName="location_tag" baseColumnNames="location_tag_id" baseTableName="location_tag_map" referencedColumnNames="location_tag_id"/>
		</changeSet> -->
		
	<changeSet author="saimanohar" id="humanresource_leave">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="hr_leave" schemaName="openmrs"/></not>
		</preConditions>
		<comment>
			Creating the leave table
		</comment>
		<createTable tableName="hr_leave" schemaName="openmrs">
		<column name="leave_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="post_history_id" type="int(11)"><constraints nullable="false"/></column>
		<column name="start_date" type="DATETIME"><constraints nullable="false"/></column>
		<column name="end_date" type="DATETIME" defaultValue="NULL"></column>
		<column name="leave_type" type="int(11)"></column>
		<column name="leave_type_other" type="varchar(252)"></column>
		<column name="creator" type="int(11)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="date_created" type="DATETIME" defaultValue="0002-11-30 00:00:00"><constraints nullable="false"/></column>
		<column name="changed_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_changed" type="DATETIME" defaultValue="NULL"></column>
		<column name="retired" type="smallint(6)" defaultValue="0"><constraints nullable="false"/></column>
		<column name="retired_by" type="int(11)" defaultValue="NULL"></column>
		<column name="date_retired" type="DATETIME" defaultValue="NULL"></column>
		<column name="retire_reason" type="varchar(255)" defaultValue="NULL"></column>
		<column name="uuid" type="char(38)"><constraints nullable="false"/></column>
		</createTable>
		<addPrimaryKey tableName="hr_leave" schemaName="openmrs" columnNames="leave_id"/>
		<addAutoIncrement tableName="hr_leave" schemaName="openmrs" columnName="leave_id" columnDataType="int(11)"/>
		<createIndex tableName="hr_leave" schemaName="openmrs" indexName="leave_uuid_index" unique="true"><column name="uuid"></column> </createIndex>
		<createIndex tableName="hr_leave" schemaName="openmrs" indexName="post_id"><column name="post_history_id"></column></createIndex>
		<createIndex tableName="hr_leave" schemaName="openmrs" indexName="end_start"><column name="end_date"></column><column name="start_date"></column></createIndex>
		<createIndex tableName="hr_leave" schemaName="openmrs" indexName="subpost_retired_status"><column name="retired"></column></createIndex>
		<createIndex tableName="hr_leave" schemaName="openmrs" indexName="leave_type_concept"><column name="leave_type"></column></createIndex>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="leave_post_history" referencedTableName="hr_post_history" baseColumnNames="post_history_id" baseTableName="hr_leave" referencedColumnNames="post_history_ID"/>
		<addForeignKeyConstraint baseTableSchemaName="openmrs" referencedTableSchemaName="openmrs" constraintName="leave_type_concept" referencedTableName="concept" baseColumnNames="leave_type" baseTableName="hr_leave" referencedColumnNames="concept_id"/>
		</changeSet>
</databaseChangeLog>
